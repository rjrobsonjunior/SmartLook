<!DOCTYPE html>
<html>
<head>
	<title>Ultima imagem capturada pelo ESP32CAM</title>
	<link rel="stylesheet" href="css/style.css">
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #f2f2f2;
			font-family: Arial, sans-serif;
		}

		h1 {
			margin-top: 50px;
			text-align: center;
			font-size: 60px;
			color: #333;
			text-shadow: 1px 1px #373434;
		}

		.container {
			display: flex;
			justify-content: center;
			align-items: center;
			height: calc(100vh - 300px);
		}

		img {
			max-width: 100%;
			max-height: 100%;
			box-shadow: 15px 15px 20px rgba(0, 0, 0, 0.2);
		}
	</style>
</head>
<body class="gradient-bg">
	
	<h1>Ultima imagem capturada pelo ESP32CAM</h1>
	<div class="container">
		<img src="/tmp/imagemTeste.jpg" alt="Imagem Recebida">
	</div>

	<div style="text-align: center; margin-top:50px;">
		<button class="meu-botao" onclick="novaFoto()">Nova Foto</button>

	</div>

	<script>
		function novaFoto() {
			var xhr = new XMLHttpRequest();
			xhr.open("POST", "/capture");
			xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			xhr.onreadystatechange = function() {
				if (xhr.readyState === 4) {
					if (xhr.status === 200) {
						location.reload();
					} else {
						alert("Erro ao tirar nova foto!");
					}
				}
			};
			xhr.send();
		}
	</script>

</body>
</html>
